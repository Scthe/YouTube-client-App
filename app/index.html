<!DOCTYPE html>
<html lang="en">

<head>
	<title>YouTube player</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="author" content="Scthe" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />

	<!-- Style sheets -->
	<link rel="stylesheet" href="../styles/main.css" >
</head>

<body class="page-background">
	<div id="page-content">

		<!-- navbar -->
		<div id="navigation-bar" class="fierce-red">
			<span id="brand" class="left-panel-size pull-left decorated-text">YouTube</span>
			<div id="search-bar" class="pull-right">
				<input type="text" placeholder="Search..." />
				<span id="search-input-icon" class="glyphicon glyphicon-search"></span>
				<span id="search-loading">&nbsp;</span>
			</div>
		</div>

		<!-- the left panel with navigation buttons -->
		<div id="navigation-panel" class="left-panel-size ui-content-min-h pull-left">
			<ul id="channels-panel">
			</ul>
		</div>

		<!-- main content panel f.e. timeline, images, search etc. -->
		<div class="ui-content-min-h hide-overflow soft-white">
			
			<header id="main-panel-header-strip" class="toned-red"></header>
			<p id="view-title" class="text-big alt-text-color soft-white-light">
				<span class="glyphicon glyphicon-list-alt"></span>
				<span id="view-title-text" class="decorated-text">A's Channel</span>
			</p>

			<!-- TODO use bootstrap grid -->
			<div id="main-panel-content">
			</div>

		</div>
		<div class="clear"></div>
	</div>

	

	<script type="text/template" id="channel-template">
		<div class="hover-white-glow">
			<!--TODO channel avatar-->

			<label><%= name %></label>

			<p class="black-overlay" style="<%= video_count>0?"":"visibility:hidden;" %>">
				<%= video_count %>
			</p>
		</div>
	</script>

	<script type="text/template" id="video-card-template">

		<!-- thumbnail -->
		<section class="video-card-thumb hover-showable-child">
			<img src="<%= thumbnail %>" />
			<span class="video-card-time absolute-bottom-right"><%= time %></span>

			<!-- overlay -->
			<div class="hover-showable black-overlay video-card-overlay fill-whole"></div>
			<div class="hover-showable video-select-play absolute-center">
				<p>play</p>
			</div>
		</section>

		<section class="video-card-text">
			<span class="video-card-title link-blue hover-underline"><%= name %></span>
			<ul>
				<li>
					Author:
					<span class="on-hover-link"><%= user %></span>
				</li>
				<li>
					<%= view_count %> views
				</li>

				<!-- TODO add > uploaded X ago -->
			</ul>
		</section>
	</script>
	
	<script type="text/template" id="video-template">
		<!-- TODO add back button ? -->
		<%= youTube_embed_Html %>
		<section id="video-info" class="card">
			<div>
				<p id="video-date"></p>
				<span id="video-bookmark-icon" class="glyphicon glyphicon-bookmark"></span>
			</div>
			<ul class="text-small">
				<li>
					<span class="glyphicon glyphicon-user"></span>
					<%= user %>
				</li>
				<li>
					<span class="glyphicon glyphicon-comment"></span>
					3 Comments<!-- TODO hardcoded -->
				</li>
			</ul>

		</section>
		<button id="add_comment">AddComment</button>
		<ul id="video-comments" class="card-bg">
		</ul>
	</script>
	
	<script type="text/template" id="comment-template">
		<img src="<%= avatar %>" class="video-comment-avatar" />
		<div class="video-comment-text">
			<h3 class="video-comment-name"><%= author %></h3>
			<span class="video-comment-date on-hover-link text-small"><%= created_at %></span>
		</div>
		<div class="video-comment-text">
			<%= text %>
		</div>
	</script>
	

	<script src='../bower_components/jquery/dist/jquery.min.js')></script>
	<script src='../bower_components/underscore/underscore.js')></script>
	<script src='../bower_components/backbone/backbone.js')></script>
	<script src='../bower_components/backbone.localStorage/backbone.localStorage-min.js')></script>

	<script src="keys.js"></script>
	<script src="scripts/app.js"></script>
	<script src="scripts/controllers.js"></script>
	<script src="scripts/models/subscription.js"></script>
	<script src="scripts/views/subscription.js"></script>
	<script src="scripts/models/video.js"></script>
	<script src="scripts/views/videoList.js"></script>
	<script src="scripts/views/video.js"></script>
	<script src="scripts/router.js"></script>

	
	<!-- <script src="https://apis.google.com/js/client.js?onload=executeGoogleApiCalls"></script> -->

	<script>
		/*
		var length = app.channelList.length;
		for (var i = 0; i < length; i++) {
			app.channelList.at(0).destroy();
		}*/
		app.channelList.create(app.Channel.defaults);
		app.channelList.create({active:true,name:'Abc',video_count:4});
		app.channelList.create({video_count:0});

		for( var i=0; i < 5; i++){
			app.videoList.create({
				name: 'Video: '+i,
				user: 'User A',
				time:'2:41',
				view_count:'502',
				thumbnail: 'images/img5.png'
				// thumbnail: e.snippet.thumbnails["default"].url,
				// created_on: e.snippet.publishedAt,
				// youTube_id:e.id.videoId // TODO when the search result is a channel this will be undefined
			});
		}
	</script>
	
</body>

</html>